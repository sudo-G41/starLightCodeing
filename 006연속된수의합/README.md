# 백준[2018](https://www.acmicpc.net/problem/2018)
## 문제
어떠한 자연수 N은, 몇 개의 연속된 자연수의 합으로 나타낼 수 있다. 당신은 어떤 자연수 N(1 ≤ N ≤ 10,000,000)에 대해서, 이 N을 몇 개의 연속된 자연수의 합으로 나타내는 가지수를 알고 싶어한다. 이때, 사용하는 자연수는 N이하여야 한다.

예를 들어, 15를 나타내는 방법은 15, 7+8, 4+5+6, 1+2+3+4+5의 4가지가 있다. 반면에 10을 나타내는 방법은 10, 1+2+3+4의 2가지가 있다.

N을 입력받아 가지수를 출력하는 프로그램을 작성하시오.


## 입력
첫 줄에 정수 N이 주어진다.

## 출력
입력된 자연수 N을 몇 개의 연속된 자연수의 합으로 나타내는 가지수를 출력하시오

## 풀이
기본적인 풀이 방법은 투 포인터다.  
$N$이 15라 가정해보자  
연속된 수의 합을 원하는것이니 15도 자지 자신을 포함한 한 개의 연속된 숫자이다. 15를 제외한 연속된 숫자의 합이 15인 숫자중 가장 큰 수를 보면 7+8인 8이다. 그런데 이는 잘 생각해보면  15/2+(15/2+1)이 15다음 가작 적은 조합으로 만들 수 있는 연속된 숫자들이고, 연속된 숫자들의 개수가 적다는 것은 크만큼 큰 숫자라는 이야기가 된다. 즉 $N$의 1/2+1이 N을 제외한 가장 큰 수이며 $N$을 제외한 그 이상의 수로는 조합이 불가능하다. 즉 우리는 $N$까지 할 필요 없이 
$N/2$까지<sub>(사실 이는 홀수 한정이고 짝수는 더 작은 숫자까지이지만 귀찮으니)</sub>만 확인하면 된다.

이 뒤는 ans = 1부터 시작하고 $N/2$부터 하나씩 줄여가며 그 값들을 더하고 더한 값이 $N$과 같으면 ans을 +1 크면 후 더해가고 더한값이 $N$을 넘으면 $N/2$부터 하나씩 빼간다.  

--------------------------

두번째 방법으로 수학적으로 접근하는 방법이 있는데 다른 사람들 코드 보면서 알게된 것이다.

예를들어 a부터 m개의 연속된 숫자들이 있다고 하면

    a,a+1,a+2...a+m-1

이 될 것이다. 이를 조금 변형하면

    a+0,a+1,a+2...a+m-1

이 될 것이고 이를 전부 더하면

    ((a+(a+m-1))*((a+m-1)-a+1))/2
    = ((2a+m-1)*(m))/2
    = (2am+m^2-m)/2
    = ((2am)/2)+((m^2-m)/2)
    = am+(m^2-m)/2
    = am + m(m-1)/2
가 될 것이다.
이때 전부 더한 숫자가 N이라 하면 아래와 같은 식이 성립되는데

    am + m(m-1)/2 = N일 경우
    am = N-(m(m-1)/2)이고
    a = (N-m(m-1)/2)/2 이다.

이때 m은 연속된 숫자의 개수로 자연수이고 a도 연속된 자연수라 하였으므로 a과 m이 자연수를 만족하는 (a,m)의 개수가 더했을 경우 $N$이 되는 연속된 자연수가 될 것이다.

즉 m을 1부터 계속 +1씩 하면서 그 결과 a가 자연수인 숫자들만 찾으면 되는데 이는 m(m-1)/2가 $N$보다 작으면서 ( $N$ - m(m-1) / 2 ) / 2를 m으로 나누었을때 몫이 0이면 a는 자연수가 된다.

이를 이용하여 (a,m)쌍을 찾아서 구한다.

``` python
#1.
N = int(input().strip())
if(N>2):
	X = (N>>1) + 1

	ans = 1
	sum_num = 0
	l = r = X
	while(r>0):
		if(sum_num<N):
			sum_num += r
			r -= 1
		else:
			ans += 1 if sum_num == N else 0
			sum_num -= l
			l -= 1
	ans += 1 if sum_num == N else 0
	print(ans)
else:
	print(1)

#2.
N = int(input().strip())
m = 1
sigma = (m-1)*m//2
ans = 0

while(N>sigma):
	ans += 1 if not (N-sigma)%m else 0
	m += 1
	sigma = (m-1)*m//2
print(ans)
```

## 잡담
아 2번 풀이 이거 도대체 어떻게 해야 이런 생각을....  
내 코드도 반으로 줄였는데... 저전 거의 log수준 아닌가?
