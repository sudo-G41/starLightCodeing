# 백준[10986](https://www.acmicpc.net/problem/10986)
## 문제

수 N개 A1, A2, ..., AN이 주어진다. 이때, 연속된 부분 구간의 합이 M으로 나누어 떨어지는 구간의 개수를 구하는 프로그램을 작성하시오.

즉, Ai + ... + Aj (i ≤ j) 의 합이 M으로 나누어 떨어지는 (i, j) 쌍의 개수를 구해야 한다.

## 입력
첫째 줄에 N과 M이 주어진다. (1 ≤ N ≤ 106, 2 ≤ M ≤ 103)

둘째 줄에 N개의 수 A1, A2, ..., AN이 주어진다. (0 ≤ Ai ≤ 109)


## 출력
첫째 줄에 연속된 부분 구간의 합이 M으로 나누어 떨어지는 구간의 개수를 출력한다.

## 풀이
이 문제는 구간합의 나머지를 묻는 문제여서 구간합과 나머지 법칙을 이용하여 풀었다.  
구간합 구하는 방법으로 계속 더해가면서 만들어진 배열에서 구간 i,j를 $A_j$ - $A_i$빼서 구하는 방식을 이용했다.

이때 나머지의 법칙을 이용하여 배열은 만드는데 (A+B)%C는 (A%C+B%C)%C 또는 (A+B%C)%C 또는 (A%C+B)%C와 같다는 점이다. 즉 배열을 만들때 A+B를 넣고 나중에 나머지를 구하는 것이 아닌 (A+B)%C를 넣어 나머지 배열을 만든다.

예를들어 X{1,2,3,4,5}가 있다고 하면 해당 구간합을 구하는 배열 A는 $A_i$ = ( $X_i$+$X_i$<sub>-1</sub>)%M을 해줌으로 모든 $X_0$~$X_i$의 구간의 합의 나머지를 알 수 있다.

그리고 i~j의 구간의 합을 구할때 $X_j$ - $X_i$을 하는 것 처럼 하는데 해당 구간의 두 나머지의 차가 해당 구간의 나머지가 되는데 왜 그렇게 되냐 하면 ( $X_j$ - $X_i$ )%M = ( $X_j$%M - $X_i$%M)%M 이고 이는 ( $A_j$-$A_i$ )%M인데 어짜피 $A_i$는 M보다 작은 수이므로 %M을 안해도 같은 수가 나온다.

우리가 필요한 것은 나머지가 0인 숫자를 원하는 것이므로 $A_j$-$A_i$ = 0이 되려면 $A_j$ = $A_i$인 수여야 히기 때문에 두 수가 같은 수들의 개수를 구해주면 된다.

```python
N = int(input().strip())
if(N>2):
	X = (N>>1) + 1

	ans = 1
	sum_num = 0
	l = r = X
	while(r>0):
		if(sum_num<N):
			sum_num += r
			r -= 1
		else:
			ans += 1 if sum_num == N else 0
			sum_num -= l
			l -= 1
	ans += 1 if sum_num == N else 0
	print(ans)
else:
	print(1)
```

## 잡담