# 백준[1517](https://www.acmicpc.net/problem/1517)
## 문제
N개의 수로 이루어진 수열 A[1], A[2], …, A[N]이 있다. 이 수열에 대해서 버블 소트를 수행할 때, Swap이 총 몇 번 발생하는지 알아내는 프로그램을 작성하시오.

버블 소트는 서로 인접해 있는 두 수를 바꿔가며 정렬하는 방법이다. 예를 들어 수열이 3 2 1 이었다고 하자. 이 경우에는 인접해 있는 3, 2가 바뀌어야 하므로 2 3 1 이 된다. 다음으로는 3, 1이 바뀌어야 하므로 2 1 3 이 된다. 다음에는 2, 1이 바뀌어야 하므로 1 2 3 이 된다. 그러면 더 이상 바꿔야 할 경우가 없으므로 정렬이 완료된다.
## 입력
첫째 줄에 N(1 ≤ N ≤ 500,000)이 주어진다. 다음 줄에는 N개의 정수로 A[1], A[2], …, A[N]이 주어진다. 각각의 A[i]는 0 ≤ |A[i]| ≤ 1,000,000,000의 범위에 들어있다.
## 출력
첫째 줄에 Swap 횟수를 출력한다
## 풀이
이게 병합정렬문제에 나와서 병합정렬을 하면서 스왑 느낌 나는 부분을 세면서 버블정렬 했을때 정렬 횟수랑 비교해보니 그게 맞았다.  
어떤점이 버블정렬의 스왑을 병합정렬에서 대체하냐 하면 병합정렬을 리스트를 쪼개고 쪼겐 리스트 양쪽을 비교하면서 작은쪽을 하나씩 꺼내는데 이게 뒤쪽 리스트에서 꺼낸게 버블정렬에서의 스왑과 같은 역활을 한다는 것을 찾았다.  
예를들어 {5,7,2,0,3,4}라는 리스트가 있다면 병합정렬을 진행하면 {5,7,2}와 {0,3,4}집합으로 나누어 지고 그 다음 {5},{7,2},{0},{3,4}로 그리고 {5},({7},{2}),{0},({3},{4})로 쪼게어진다.  
여기서 {5}는 정렬이 완료되었고 {7},과 {2}도 정렬 되었지만 그 합인 ({7},{2})는 아직 정렬이 되지 않았으므로 합치는 과정을 거치는데 여기서 뒤쪽인 2가 먼저 오고 7이 들어와 정렬이 된다. 여기서 버블정렬과 대조하면 7은 2와 스왑했다 취급할 수 있다.  
그 다음 {5}와 {2,7}을 합치면 2먼저 오고 5 그다음 7이 오는데 이또한 2와 5가 스왑했다는 이야기가 된다.  
{0,3,4}는 어짜피 정렬 되어 있으므로 과정은 생략하고 {2,5,7}과 {0,3,4}만 합치면 정렬이 되는데 우선은 0이 들어오고 2가 들어온다 이건 0과 2가 스왑했다는 이야기 취급이고, 
3과 4가 드르어오고 앞쪽리스트의 수인 5가 들어오는데 여기서 헷갈리면 안되는게 5는 그럼 3과 4만 스왑했냐 하면 아니다. 0도 포함이다. 
즉 뒤쪽 리스트에 어떤 수가 합쳐졌지는 과정을 거쳤는가 = 앞쪽 들어오는 숫자가 어떤 수들과 스왑했냐 이 이갸기가 된다 보면 된다.
그럼 왜 병합정렬을 되고 버블정렬은 안되는가는 버블정렬은 숫자 하나씩 정렬이 되고 병합정렬은 여러 숫자를 한번에 정렬하니까다. 그러면서 스왑 개수를 세니 당연히 병합은 통과하는거다.
```python
def list_merge(i,m,j):
  global L
  global tmp
  l = idx = i
  r = m
  ans = 0
  while(l!=m and r!=j):
    if(L[l]>L[r]):
      tmp[idx] = L[r]
      r+=1
    else:
      tmp[idx] = L[l]
      ans += (r-m)
      l+=1
    idx+=1
  if(l!=m):
    while(l!=m):
      ans += (r-m)
      tmp[idx] = L[l]
      l+=1
      idx+=1
  else:
    while(r!=j):
      tmp[idx] = L[r]
      r+=1
      idx+=1
  for x in range(i,j):
    L[x] = tmp[x]
  return ans

def list_split(l,r):
  ans = 0
  if(l!=r-1):
    m = (l+r)//2
    ans += list_split(l,m)
    ans += list_split(m,r)
    ans += list_merge(l,m,r)
  return ans
```

## 잡담
아 집에서 노트북으로 하는게 아니라 구글 코랩이랑 깃허브 홈페이지로 하려니 귀찮구만...
